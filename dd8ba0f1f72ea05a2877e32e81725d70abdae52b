{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3143b400_4f0662b4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-11-23T08:47:12Z",
      "side": 1,
      "message": "Looks reasonable to me, but the commit title and log might benefit from some more detail. Can you expand on the issue with the use of netlink? Are you seeing an error there?\n\nNot sure what\u0027s up with the CI here though...",
      "revId": "dd8ba0f1f72ea05a2877e32e81725d70abdae52b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cb52409f_fe5a3ea0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2022-11-23T10:08:52Z",
      "side": 1,
      "message": "\u003e Not sure what\u0027s up with the CI here though...\nI checked the ci script, they only handler the bootstrap script, maybe we can add a `bootstrap` script too,\nhttps://github.com/openbmc/openbmc-build-scripts/blob/master/scripts/unit-test.py#L688\nand there has an another error after configure, the docker missing json-c\nI\u0027ll add a patch \n```\n--- a/scripts/build-unit-test-docker\n+++ b/scripts/build-unit-test-docker\n@@ -829,7 +829,8 @@ RUN apt-get update \u0026\u0026 apt-get dist-upgrade -yy \u0026\u0026 apt-get install -yy \\\n     libxml2-utils \\\n     libxml-simple-perl \\\n     rsync \\\n-    libcryptsetup-dev\n+    libcryptsetup-dev \\\n+    libjson-c-dev \\\n\n```",
      "parentUuid": "3143b400_4f0662b4",
      "revId": "dd8ba0f1f72ea05a2877e32e81725d70abdae52b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6b5d020_0c647fef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2022-11-23T10:11:31Z",
      "side": 1,
      "message": "Sorry, Error Resloved",
      "parentUuid": "cb52409f_fe5a3ea0",
      "revId": "dd8ba0f1f72ea05a2877e32e81725d70abdae52b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5f57a5e_9cf1ef5f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000272
      },
      "writtenOn": "2023-02-10T07:17:41Z",
      "side": 1,
      "message": "Verified. This patch fixes the virtual media failed to mount issue.",
      "revId": "dd8ba0f1f72ea05a2877e32e81725d70abdae52b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "276a9419_fc6329cb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2023-02-16T04:30:46Z",
      "side": 1,
      "message": "I actually just spent a few hours debugging this and developed an identical patch which I was about to push to gerrit for review when I saw that this was already here.\n\nAs for the commit message, here\u0027s what I wrote, FWIW:\n\n```\nnbd-proxy:  Disable nbd-client\u0027s netlink support\n\nWhen openbmc/openbmc updated the nbd package from 3.20 to 3.24 [1], it\nalso added libnl as a dependency, enabling nbd\u0027s HAVE_NETLINK feature.\nWhen using netlink instead of the older ioctl interface, the nbd-client\nprocess exits immediately after setting up the connection, which\nconfuses nbd-proxy.  A more thorough, long-term solution would be to\nrestructure nbd-proxy around the newer nbd-client netlink behavior\n(nbd-client\u0027s support for the ioctl interface is slated to be removed at\nsome unspecified point in the future [2]), but as a simpler fix for the\ntime being we can just disable netlink support via nbd-client\u0027s -L\ncommand-line flag.\n\n[1] https://github.com/openbmc/openbmc/commit/78b727985e7571e0b196561e44427690f04d57d9#diff-452e7c988a0afa8d4d41dc2c7710a379997ef7c6d37def5b588bd7593ae694c0\n[2] https://github.com/NetworkBlockDevice/nbd/blob/90dc1adc9ba196fca84a9b4f7d85fdfdd9fc4d5b/man/nbd-client.8.in.sgml#L258-L260\n```",
      "revId": "dd8ba0f1f72ea05a2877e32e81725d70abdae52b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6418796_88d14e95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2023-02-16T04:50:52Z",
      "side": 1,
      "message": "Ah, thanks Zev, great explanation.\n\n@Jian: can you incorporate this into your commit message? With that, I think we\u0027re good to submit given Zev\u0027s confirmation here.",
      "parentUuid": "276a9419_fc6329cb",
      "revId": "dd8ba0f1f72ea05a2877e32e81725d70abdae52b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}